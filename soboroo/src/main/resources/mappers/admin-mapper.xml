<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >

<mapper namespace="adminMapper">
	
	<resultMap type="AdminNotice" id="adminResultSet">
		<result column = "ntc_no" property="ntcNo"/>
		<result column = "ntc_writer" property="ntcWriter"/>
		<result column = "ntc_title" property="ntcTitle"/>
		<result column = "ntc_content" property="ntcContent"/>
		<result column = "ntc_create_date" property="ntcCreateDate"/>
		<result column = "ntc_update_date" property="ntcUpdateDate"/>
		<result column = "ntc_count" property="ntcCount"/>
		<result column = "ntc_del_ny" property="ntcDelNy"/>
	</resultMap>
	
	<resultMap type="AdminBoard" id="adminResultSet2">
		<result column = "board_no" property = "boardNo"/>
		<result column = "board_title" property = "boardTitle"/>
		<result column = "board_content" property = "boardContent"/>
		<result column = "create_date" property = "createDate"/>
		<result column = "modify_date" property = "modifyDate"/>
		<result column = "count" property = "count"/>
		<result column = "rep_ny" property = "repNy"/>
		<result column = "del_ny" property = "delNy"/>
		<result column = "category" property = "category"/>
		<result column = "mem_no" property = "memNo"/>
		<result column = "table_no" property = "tableNo"/>
	</resultMap>
	
	<select id="selectNoticeListCount" resultType="_int">
		select    
	    count(*)
	    from notice
	    where ntc_del_ny = 'N'
	</select>	
	
	<select id="selectNoticeList" resultMap="adminResultSet">
			select 
		 ntc_no
		,ntc_writer
		,ntc_title
		,ntc_content
		,to_char(ntc_create_date, 'YYYY-MM-DD') as "ntc_create_date"
		,ntc_update_date
		,ntc_count
		,ntc_del_ny
		from notice 
		where ntc_del_ny = 'N'
		order
		by ntc_no desc

	</select>
	
	<select id="selectBoardListCount" resultType="_int">
		select    
		    count(*) as "count"
		    from board
		    where del_ny = 'N'
	</select>	
	
	
	<select id="selectBoardList" resultMap="adminResultSet2">
		select
		    board_no
		  , board_title
		  , board_content
		  , to_char(create_date, 'YYYY-MM-DD') as "create_date"
		  , modify_date
		  , count
		  , del_ny
		  , category
		  , mem_no
		  , table_no
	   from board
	  where del_ny = 'N'
	  order
		 by board_no desc
	</select>
	

</mapper>