-- 관리자계정에서 계정 생성
-- CREATE USER SOBOROO IDENTIFIED BY SOBOROO;
-- GRANT CONNECT, RESOURCE TO SOBOROO; 

-- 시퀀스 삭제
DROP SEQUENCE SEQ_MEM_NO;
DROP SEQUENCE SEQ_ON_GROUP_ONCE_NO;
DROP SEQUENCE SEQ_ON_GROUP_REG_NO;
DROP SEQUENCE SEQ_ON_CHALLENGE_D_NO;
DROP SEQUENCE SEQ_ON_CHALLENGE_REG_NO;
DROP SEQUENCE SEQ_OFF_GROUP_ONCE_NO;
DROP SEQUENCE SEQ_OFF_GROUP_REG_NO;
DROP SEQUENCE SEQ_OFF_CHALLENGE_D_NO;
DROP SEQUENCE SEQ_OFF_CHALLENGE_REG_NO;

-- 테이블 삭제
DROP TABLE ALERT;
DROP TABLE TABLE_NAME;
DROP TABLE MEMBER;
DROP TABLE ONLINE_GROUP_ONCE;
DROP TABLE ONLINE_GROUP_REGULAR;
DROP TABLE ONLINE_CHALLENGE_D_DAY;
DROP TABLE ONLINE_CHALLENGE_REGULAR;
DROP TABLE OFFLINE_GROUP_ONCE;
DROP TABLE OFFLINE_GROUP_REGULAR;
DROP TABLE OFFLINE_CHALLENGE_D_DAY;
DROP TABLE OFFLINE_CHALLENGE_REGULAR;


-- ----------------- TABLE_NAME -------------------

-- 테이블관리 테이블 생성
CREATE TABLE TABLE_NAME(
    TABLE_NO NUMBER PRIMARY KEY,
    TABLE_NAME VARCHAR2(100) NOT NULL
);

-- 테이블관리 컬럼명
COMMENT ON COLUMN TABLE_NAME.TABLE_NO IS '테이블번호';
COMMENT ON COLUMN TABLE_NAME.TABLE_NAME IS '테이블명';


-- ------------------- MEMBER ---------------------

-- 회원번호 부여하기 위한 시퀀스
CREATE SEQUENCE SEQ_MEM_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 회원 테이블 생성
CREATE TABLE MEMBER(
    MEM_NO NUMBER PRIMARY KEY,
    MEM_TOKEN VARCHAR2(1000),
    MEM_ID VARCHAR2(100) NOT NULL UNIQUE,
    MEM_BIRTH DATE NOT NULL,
    MEM_PHONE VARCHAR2(100) NOT NULL,
    MEM_NAME VARCHAR2(50) NOT NULL,
    MEM_STATUS_NY CHAR(10) DEFAULT 'Y' CONSTRAINT MEM_STATUS_NY_CK CHECK(MEM_STATUS_NY IN('Y','N')),
    MEM_NICKNAME VARCHAR2(50),
    MEM_INTRODUCE VARCHAR2(3000),
    MEM_RPR_CUM NUMBER,
    MEM_IMG VARCHAR2(1000),
    MEM_ADMIN_NY CHAR(10) DEFAULT 'N' CONSTRAINT MEM_ADMIN_NY_CK CHECK(MEM_ADMIN_NY IN('Y','N'))
);
    
-- 회원 컬럼명   
COMMENT ON COLUMN MEMBER.MEM_NO IS '회원 번호';
COMMENT ON COLUMN MEMBER.MEM_TOKEN IS '토큰';
COMMENT ON COLUMN MEMBER.MEM_ID IS '아이디';
COMMENT ON COLUMN MEMBER.MEM_BIRTH IS '본인인증 확인용 생년월일';
COMMENT ON COLUMN MEMBER.MEM_PHONE IS '휴대폰 번호';
COMMENT ON COLUMN MEMBER.MEM_NAME IS '이름';
COMMENT ON COLUMN MEMBER.MEM_STATUS_NY IS '회원 상태';
COMMENT ON COLUMN MEMBER.MEM_NICKNAME IS '닉네임';
COMMENT ON COLUMN MEMBER.MEM_INTRODUCE IS '자기소개';
COMMENT ON COLUMN MEMBER.MEM_RPR_CUM IS '누적 신고수';
COMMENT ON COLUMN MEMBER.MEM_IMG IS '프로필 이미지';
COMMENT ON COLUMN MEMBER.MEM_ADMIN_NY IS '관리자 여부';


-- ------------------- ALERT -----------------------

-- 알림 테이블 생성
CREATE TABLE ALERT(
    ID_NO NUMBER PRIMARY KEY,
    TABLE_NO NUMBER REFERENCES TABLE_NAME(TABLE_NO),
    MEM_NO NUMBER NOT NULL REFERENCES MEMBER(MEM_NO),
    ALERT_DATE DATE DEFAULT SYSDATE NOT NULL,
    ALERT_TYPE NUMBER CONSTRAINT ALERT_TYPE_CK CHECK(ALERT_TYPE IN('1','2','3','4','5','6')),
    ALERT_READ_NY CHAR(10) DEFAULT 'N' CONSTRAINT ALERT_READ_NY_CK CHECK(ALERT_READ_NY IN('Y','N'))
);

-- 알림 컬럼명
COMMENT ON COLUMN ALERT.ID_NO IS '게시물 번호';
COMMENT ON COLUMN ALERT.TABLE_NO IS '테이블 번호';
COMMENT ON COLUMN ALERT.MEM_NO IS '회원 번호';
COMMENT ON COLUMN ALERT.ALERT_DATE IS '알림 일시';
COMMENT ON COLUMN ALERT.ALERT_TYPE IS '알림 타입';
COMMENT ON COLUMN ALERT.ALERT_READ_NY IS '알림 상태';

-- ------------------- CATEGORY ---------------------

-- 카테고리 테이블 생성
CREATE TABLE CATEGORY(
    CATEGORY NUMBER PRIMARY KEY,
    CATEGORY_TITLE VARCHAR2(3000) NOT NULL
);

-- 카테고리 컬럼명
COMMENT ON COLUMN CATEGORY.CATEGORY IS '카테고리';
COMMENT ON COLUMN CATEGORY.CATEGORY_TITLE IS '카테고리명';

-- --------------------- REPLY -----------------------

-- 댓글 테이블 생성
CREATE TABLE REPLY(
    REPLY_NO NUMBER PRIMARY KEY,
    REPLY_CONTENT VARCHAR2(3000) NOT NULL,
    ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
    MODIFY_DATE DATE DEFAULT SYSDATE,
    DEL_NY VARCHAR2(60) DEFAULT 'N' CHECK(DEL_NY IN('Y','N')) NOT NULL,
    REP_NY VARCHAR2(60) DEFAULT 'N' CHECK(REP_NY IN('Y','N')) NOT NULL,
    RECOMENT_NY VARCHAR2(60) DEFAULT 'N' CHECK(RECOMENT_NY IN('Y','N')) NOT NULL,
    REPER_NO NUMBER NOT NULL,
    FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO),
    FOREIGN KEY(TABLE_NO) REFERENCES TABLE_NAME(TABLE_NO),
    FOREIGN KEY(BOARD_NO) REFERENCES BOARD(BOARD_NO)
);

-- 댓글 컬럼명
COMMENT ON COLUMN REPLY.REPLY_NO IS '댓글번호';
COMMENT ON COLUMN REPLY.REPLY_CONTENT IS '댓글내용';
COMMENT ON COLUMN REPLY.ENROLL_DATE IS '작성일';
COMMENT ON COLUMN REPLY.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN REPLY.DEL_NY IS '삭제여부';
COMMENT ON COLUMN REPLY.REP_NY IS '신고여부';
COMMENT ON COLUMN REPLY.RECOMMENT_NY IS '대댓글여부';
COMMENT ON COLUMN REPLY.REPER_NO IS '참조댓글';
COMMENT ON COLUMN REPLY.MEM_NO IS '참조회원번호';
COMMENT ON COLUMN REPLY.TABLE_NO IS '참조테이블번호';
COMMENT ON COLUMN REPLY.BOARD_NO IS '참조게시판번호';

-- ------------------ ENTRY_LIST ---------------------

-- 참가자목록 테이블 생성
CREATE TABLE ENTRY_LIST(
    GROUP_NO NUMBER NOT NULL,
    ENTRY_ID VARCHAR2(60) NOT NULL,
    WAIT_NY DEFAULT 'N' CHECK(WAIT_NY IN('Y','N')) NOT NULL,
    ENTRY_DATE DATE DEFAULT SYSDATE NOT NULL,
    FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO),
    FOREIGN KEY(TABLE_NO) REFERENCES TABLE_NAME(TABLE_NO)
);

-- 참가자목록 컬럼명
COMMENT ON COLUMN ENTRY_LIST.GROUP_NO IS '모임번호';
COMMENT ON COLUMN ENTRY_LIST.ENTRY_ID IS '참가자아이디';
COMMENT ON COLUMN ENTRY_LIST.WAIT_NY IS '대기여부';
COMMENT ON COLUMN ENTRY_LIST.ENTRY_DATE IS '참가시간';
COMMENT ON COLUMN ENTRY_LIST.GROUP_NO IS '참조회원번호';
COMMENT ON COLUMN ENTRY_LIST.GROUP_NO IS '참조테이블번호';

-- ----------------- GROUP_MESSAGE -------------------

-- 실시간채팅(그룹채팅) 테이블 생성
CREATE TABLE GROUP_MESSAGE(
    CHANNEL_NO NUMBER PRIMARY KEY,
    MESSAGE_CONTENT VARCHAR2(4000) NOT NULL,
    CREATE_AT DATE DEFAULT SYSDATE NOT NULL,
    CHANNEL_ID VARCHAR2(1000) NOT NULL,
    FOREIGN KEY(MEM_NO) REFERENCES MEMBER(MEM_NO)
);

-- 실시간채팅 컬럼명
COMMENT ON COLUMN GROUP_MESSAGE.CHANNEL_NO IS '채널번호';
COMMENT ON COLUMN GROUP_MESSAGE.MESSAGE_CONTENT IS '내용';
COMMENT ON COLUMN GROUP_MESSAGE.CREATE_AT IS '메시지 생성시간';
COMMENT ON COLUMN GROUP_MESSAGE.CHANNEL_ID IS '채널명';
COMMENT ON COLUMN GROUP_MESSAGE.MEM_NO IS '참조회원번호';

-- --------------------- BOARD -----------------------

-- 자유게시판 글 번호 부여하기 위한 시퀀스 생성
CREATE SEQUENCE SEQ_BOARD
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 자유게시판 테이블 생성
CREATE TABLE BOARD(
    BOARD_NO NUMBER NOT NULL,
    BOARD_TITLE VARCHAR(50) NOT NULL,
    BOARD_CONTENT VARCHAR(2000) NOT NULL,
    CREATE_DATE DATE DEFAULT SYSDATE NOT NULL,
    MODIFY_DATE DATE DEFAULT SYSDATE NOT NULL,
    BOARD_HIT NUMBER NOT NULL,
    BOARD_FILE VARCHAR(1000),
    REP_NY VARCHAR(60) DEFAULT 'N' NOT NULL CONSTRAINT RPR_NY_CK CHECK(RPR_NY IN('Y','N')),
    DEL_NY VARCHAR(1) DEFAULT 'N' NOT NULL CONSTRAINT DEL_NY_CK CHECK(DEL_NY IN('Y','N')),
    CATEGORY NUMBER NOT NULL REFERENCES CATEGORY,
    MEM_NO NUMBER NOT NULL REFERENCES MEMBER,
    TABLE_NO NUMBER NOT NULL REFERENCES TABLE_NAME
);

-- 자유게시판 컬럼명
COMMENT ON COLUMN BOARD.BOARD_NO IS '게시글 번호';
COMMENT ON COLUMN BOARD.BOARD_TITLE IS '제목';
COMMENT ON COLUMN BOARD.BOARD_CONTENT IS '게시글 내용';
COMMENT ON COLUMN BOARD.CREATE_DATE IS '작성일';
COMMENT ON COLUMN BOARD.MODIFY_DATE IS '수정일';
COMMENT ON COLUMN BOARD.BOARD_HIT IS '조회수';
COMMENT ON COLUMN BOARD.BOARD_FILE IS '첨부파일';
COMMENT ON COLUMN BOARD.REP_NY IS '신고여부';
COMMENT ON COLUMN BOARD.DEL_NY IS '삭제여부';
COMMENT ON COLUMN BOARD.CATEGORY IS '카테고리';
COMMENT ON COLUMN BOARD.MEM_NO IS '인덱스';
COMMENT ON COLUMN BOARD.TABLE_NO IS '테이블 번호';

-- -------------------- NOTICE -----------------------

-- 공지글 번호 부여하기 위한 시퀀스 생성
CREATE SEQUENCE SEQ_NTC
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 공지사항 테이블 생성
CREATE TABLE NOTICE(
    NTC_NO NUMBER NOT NULL,
    NTC_WRLTER VARCHAR(20) NOT NULL,
    NTC_TITLE VARCHAR(100) NOT NULL,
    NTC_CNT VARCHAR(2000) NOT NULL,
    NTC_DATE DATE DEFAULT SYSDATE NOT NULL,
    NTC_COUNT NUMBER NOT NULL,
    NTC_DEL_NY VARCHAR(1) DEFAULT 'N' NOT NULL CONSTRAINT DEL_NY_CK CHECK(DEL_NY IN('Y','N')),
    UPDATED_AT DATE DEFAULT SYSDATE NOT NULL
);

-- 공지사항 컬럼명
COMMENT ON COLUMN NOTICE.NTC_NO IS '공지사항 번호';
COMMENT ON COLUMN NOTICE.NTC_WRLTER IS '작성자';
COMMENT ON COLUMN NOTICE.NTC_TITLE IS '공지제목';
COMMENT ON COLUMN NOTICE.NTC_CNT IS '공지내용';
COMMENT ON COLUMN NOTICE.NTC_DATE IS '공지등록일';
COMMENT ON COLUMN NOTICE.NTC_COUNT IS '조회수';
COMMENT ON COLUMN NOTICE.NTC_DEL_NY IS '삭제여부';
COMMENT ON COLUMN NOTICE.NTC_UPDATE_AT IS '수정일';

-- -------------- ONLINE_GROUP_ONCE ------------------

-- 그룹번호 부여하기 위한 시퀀스 생성(온라인일반단기)
CREATE SEQUENCE SEQ_ON_GROUP_ONCE_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 온라인일반단기 테이블 생성
CREATE TABLE ONLINE_GROUP_ONCE(
	ON_GROUP_ONCE_NO NUMBER CONSTRAINT ON_GROUP_ONCE_NO_PK PRIMARY KEY,
	ON_GROUP_ONCE_TITLE VARCHAR2(100) NOT NULL,
	ON_GROUP_ONCE_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	ON_GROUP_ONCE_DATE DATE NOT NULL,
	ON_GROUP_ONCE_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 온라인일반단기 컬럼명
COMMENT ON COLUMN ONLINE_GROUP_ONCE.ON_GROUP_ONCE_NO IS '모임번호';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.ON_GROUP_ONCE_TITLE IS '모임명';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.ON_GROUP_ONCE_ID IS '개설자';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.ON_GROUP_ONCE_DATE IS '모일일자';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.ON_GROUP_ONCE_CONTENT IS '내용';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.HASH_TAG IS '해시태그';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.DEL_NY IS '삭제여부';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.REP_NY IS '신고여부';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.URL IS 'url';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.MAX IS '정원';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.CATEGORY IS '카테고리';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.MEM_NO IS '회원번호';
COMMENT ON COLUMN ONLINE_GROUP_ONCE.TABLE_NO IS '테이블번호';

-- ------------- ONLINE_GROUP_REGULAR ----------------

-- 그룹번호 부여하기 위한 시퀀스 생성(온라인일반정기)
CREATE SEQUENCE SEQ_ON_GROUP_REG_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 온라인일반정기 테이블 생성
CREATE TABLE ONLINE_GROUP_REGULAR(
	ON_GROUP_REG_NO NUMBER CONSTRAINT ON_GROUP_REG_NO_PK PRIMARY KEY,
	ON_GROUP_REG_TITLE VARCHAR2(100) NOT NULL,
	ON_GROUP_REG_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	ON_GROUP_REG_DATE DATE NOT NULL,
	ON_GROUP_REG_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 온라인일반정기 컬럼명
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.ON_GROUP_REG_NO IS '모임번호';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.ON_GROUP_REG_TITLE IS '모임명';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.ON_GROUP_REG_ID IS '개설자';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.ON_GROUP_REG_DATE IS '모일일자';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.ON_GROUP_REG_CONTENT IS '내용';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.HASH_TAG IS '해시태그';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.DEL_NY IS '삭제여부';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.REP_NY IS '신고여부';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.URL IS 'url';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.MAX IS '정원';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.CATEGORY IS '카테고리';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.MEM_NO IS '회원번호';
COMMENT ON COLUMN ONLINE_GROUP_REGULAR.TABLE_NO IS '테이블번호';

-- ------------ ONLINE_CHALLENGE_D_DAY ---------------

-- 그룹번호 부여하기 위한 시퀀스 생성(온라인목표디데이)
CREATE SEQUENCE SEQ_ON_CHALLENGE_D_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 온라인목표디데이 테이블 생성
CREATE TABLE ONLINE_CHALLENGE_D_DAY(
	ON_CHALLENGE_D_NO NUMBER CONSTRAINT ON_CHALLENGE_D_NO_PK PRIMARY KEY,
	ON_CHALLENGE_D_TITLE VARCHAR2(100) NOT NULL,
	ON_CHALLENGE_D_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	ON_CHALLENGE_D_DATE DATE NOT NULL,
	ON_CHALLENGE_D_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 온라인목표디데이 컬럼명
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.ON_CHALLENGE_D_NO IS '모임번호';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.ON_CHALLENGE_D_TITLE IS '모임명';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.ON_CHALLENGE_D_ID IS '개설자';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.ON_CHALLENGE_D_DATE IS '모일일자';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.ON_CHALLENGE_D_CONTENT IS '내용';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.HASH_TAG IS '해시태그';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.DEL_NY IS '삭제여부';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.REP_NY IS '신고여부';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.URL IS 'url';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.MAX IS '정원';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.CATEGORY IS '카테고리';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.MEM_NO IS '회원번호';
COMMENT ON COLUMN ONLINE_CHALLENGE_D_DAY.TABLE_NO IS '테이블번호';

-- ------------ ONLINE_CHALLENGE_REGULAR -------------

-- 그룹번호 부여하기 위한 시퀀스 생성(온라인목표정기)
CREATE SEQUENCE SEQ_ON_CHALLENGE_REG_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 온라인목표정기 테이블 생성
CREATE TABLE ONLINE_CHALLENGE_REGULAR(
	ON_CHALLENGE_REG_NO NUMBER CONSTRAINT ON_CHALLENGE_REG_NO_PK PRIMARY KEY,
	ON_CHALLENGE_REG_TITLE VARCHAR2(100) NOT NULL,
	ON_CHALLENGE_REG_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	ON_CHALLENGE_REG_DATE DATE NOT NULL,
	ON_CHALLENGE_REG_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 온라인목표정기 컬럼명
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.ON_CHALLENGE_REG_NO IS '모임번호';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.ON_CHALLENGE_REG_TITLE IS '모임명';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.ON_CHALLENGE_REG_ID IS '개설자';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.ON_CHALLENGE_REG_DATE IS '모일일자';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.ON_CHALLENGE_REG_CONTENT IS '내용';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.HASH_TAG IS '해시태그';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.DEL_NY IS '삭제여부';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.REP_NY IS '신고여부';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.URL IS 'url';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.MAX IS '정원';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.CATEGORY IS '카테고리';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.MEM_NO IS '회원번호';
COMMENT ON COLUMN ONLINE_CHALLENGE_REGULAR.TABLE_NO IS '테이블번호';

-- -------------- OFFLINE_GROUP_ONCE -----------------

-- 그룹번호 부여하기 위한 시퀀스 생성(오프라인일반단기)
CREATE SEQUENCE SEQ_OFF_GROUP_ONCE_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 오프라인일반단기 테이블 생성
CREATE TABLE OFFLINE_GROUP_ONCE(
	OFF_GROUP_ONCE_NO NUMBER CONSTRAINT OFF_GROUP_ONCE_NO_PK PRIMARY KEY,
	OFF_GROUP_ONCE_TITLE VARCHAR2(100) NOT NULL,
	OFF_GROUP_ONCE_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	OFF_GROUP_ONCE_DATE DATE NOT NULL,
	OFF_GROUP_ONCE_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 오프라인일반단기 컬럼명
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.OFF_GROUP_ONCE_NO IS '모임번호';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.OFF_GROUP_ONCE_TITLE IS '모임명';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.OFF_GROUP_ONCE_ID IS '개설자';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.OFF_GROUP_ONCE_DATE IS '모일일자';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.OFF_GROUP_ONCE_CONTENT IS '내용';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.HASH_TAG IS '해시태그';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.DEL_NY IS '삭제여부';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.REP_NY IS '신고여부';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.URL IS 'url';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.MAX IS '정원';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.CATEGORY IS '카테고리';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.MEM_NO IS '회원번호';
COMMENT ON COLUMN OFFLINE_GROUP_ONCE.TABLE_NO IS '테이블번호';

-- ------------- OFFLINE_GROUP_REGULAR ---------------

-- 그룹번호 부여하기 위한 시퀀스 생성(오프라인일반정기)
CREATE SEQUENCE SEQ_OFF_GROUP_REG_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 오프라인일반정기 테이블 생성
CREATE TABLE OFFLINE_GROUP_REGULAR(
	OFF_GROUP_REG_NO NUMBER CONSTRAINT OFF_GROUP_REG_NO_PK PRIMARY KEY,
	OFF_GROUP_REG_TITLE VARCHAR2(100) NOT NULL,
	OFF_GROUP_REG_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	OFF_GROUP_REG_DATE DATE NOT NULL,
	OFF_GROUP_REG_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 오프라인일반정기 컬럼명
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.OFF_GROUP_REG_NO IS '모임번호';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.OFF_GROUP_REG_TITLE IS '모임명';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.OFF_GROUP_REG_ID IS '개설자';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.OFF_GROUP_REG_DATE IS '모일일자';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.OFF_GROUP_REG_CONTENT IS '내용';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.HASH_TAG IS '해시태그';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.DEL_NY IS '삭제여부';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.REP_NY IS '신고여부';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.URL IS 'url';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.MAX IS '정원';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.CATEGORY IS '카테고리';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.MEM_NO IS '회원번호';
COMMENT ON COLUMN OFFLINE_GROUP_REGULAR.TABLE_NO IS '테이블번호';

-- ------------ OFFLINE_CHALLENGE_D_DAY --------------

-- 그룹번호 부여하기 위한 시퀀스 생성(오프라인목표디데이)
CREATE SEQUENCE SEQ_OFF_CHALLENGE_D_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 오프라인목표디데이 테이블 생성
CREATE TABLE OFFLINE_CHALLENGE_D_DAY(
	OFF_CHALLENGE_D_NO NUMBER CONSTRAINT OFF_CHALLENGE_D_NO_PK PRIMARY KEY,
	OFF_CHALLENGE_D_TITLE VARCHAR2(100) NOT NULL,
	OFF_CHALLENGE_D_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	OFF_CHALLENGE_D_DATE DATE NOT NULL,
	OFF_CHALLENGE_D_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 오프라인목표디데이 컬럼명
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.OFF_CHALLENGE_D_NO IS '모임번호';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.OFF_CHALLENGE_D_TITLE IS '모임명';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.OFF_CHALLENGE_D_ID IS '개설자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.OFF_CHALLENGE_D_DATE IS '모일일자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.OFF_CHALLENGE_D_CONTENT IS '내용';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.HASH_TAG IS '해시태그';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.DEL_NY IS '삭제여부';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.REP_NY IS '신고여부';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.URL IS 'url';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.MAX IS '정원';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.CATEGORY IS '카테고리';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.MEM_NO IS '회원번호';
COMMENT ON COLUMN OFFLINE_CHALLENGE_D_DAY.TABLE_NO IS '테이블번호';

-- ----------- OFFLINE_CHALLENGE_REGULAR -------------

-- 그룹번호 부여하기 위한 시퀀스 생성(오프라인목표정기)
CREATE SEQUENCE SEQ_OFF_CHALLENGE_REG_NO
    START WITH 1
    INCREMENT BY 1
    NOCYCLE
    NOCACHE;

-- 오프라인목표정기 테이블 생성
CREATE TABLE OFFLINE_CHALLENGE_REGULAR(
	OFF_CHALLENGE_REG_NO NUMBER CONSTRAINT OFF_CHALLENGE_REG_NO_PK PRIMARY KEY,
	OFF_CHALLENGE_REG_TITLE VARCHAR2(100) NOT NULL,
	OFF_CHALLENGE_REG_ID VARCHAR2(100) NOT NULL,
	ENROLL_DATE DATE DEFAULT SYSDATE NOT NULL,
	MODIFY_DATE DATE DEFAULT SYSDATE,
	OFF_CHALLENGE_REG_DATE DATE NOT NULL,
	OFF_CHALLENGE_REG_CONTENT VARCHAR2(4000) NOT NULL,
	HASH_TAG VARCHAR2(4000),
	DEL_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(DEL_NY IN('N', 'Y')),	
	REP_NY VARCHAR2(10) DEFAULT 'N' NOT NULL CHECK(REP_NY IN('N', 'Y')),
	URL VARCHAR2(4000),
	MAX NUMBER NOT NULL,
	CATEGORY NUMBER NOT NULL,
	MEM_NO NUMBER NOT NULL,
	TABLE_NO NUMBER NOT NULL
);

-- 오프라인목표정기 컬럼명
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.OFF_CHALLENGE_REG_NO IS '모임번호';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.OFF_CHALLENGE_REG_TITLE IS '모임명';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.OFF_CHALLENGE_REG_ID IS '개설자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.ENROLL_DATE IS '등록일자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.MODIFY_DATE IS '수정일자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.OFF_CHALLENGE_REG_DATE IS '모일일자';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.OFF_CHALLENGE_REG_CONTENT IS '내용';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.HASH_TAG IS '해시태그';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.DEL_NY IS '삭제여부';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.REP_NY IS '신고여부';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.URL IS 'url';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.MAX IS '정원';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.CATEGORY IS '카테고리';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.MEM_NO IS '회원번호';
COMMENT ON COLUMN OFFLINE_CHALLENGE_REGULAR.TABLE_NO IS '테이블번호';
